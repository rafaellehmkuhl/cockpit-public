import{d as L,b5 as $,am as B,an as F,q as n,ar as T,C as I,l as b,h as O,o as _,c as z,a as c,j as D,w as h,al as W,b as r,I as j,aP as N,i as t,H as s,R as P,aD as H,L as x,S as y,b6 as K,b7 as q,P as S,aM as A,b8 as E,Y as J,J as Y,b9 as G,a1 as Q}from"./index-BQs-nub8.js";import{_ as X}from"./Snackbar.vue_vue_type_script_setup_true_lang-8UUov3cZ.js";const Z={class:"w-full h-full"},ee=["src"],ae={class:"flex items-center justify-between"},te=L({__name:"IFrame",props:{widget:{}},setup(k){$(e=>({"2063093a":U.value}));const p=B(),a=F(k).widget,m=n(!1),u=n(0),i=n(a.value.options.source),d=n(!1),v=n(""),f=e=>G(e)?!0:"URL is not valid.",g=()=>{const e=f(i.value);if(e!==!0){v.value=`${e} Please enter a valid URL.`,d.value=!0;return}a.value.options.source=i.value};T(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:"http://blueos.local"})});const{width:V,height:w}=I(),C=b(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*V.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*w.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*V.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*w.value}px;`),p.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),p.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),U=b(()=>(100-u.value)/100);function M(){console.log("Finished loading"),m.value=!0}return(e,o)=>{const R=O("tooltip");return _(),z(Y,null,[c("div",Z,[(_(),D(N,{to:".widgets-view"},[h(c("iframe",{src:r(a).options.source,style:j(C.value),frameborder:"0",onLoad:M},null,44,ee),[[W,m.value]])])),t(J,{modelValue:r(a).managerVars.configMenuOpen,"onUpdate:modelValue":o[3]||(o[3]=l=>r(a).managerVars.configMenuOpen=l),"min-width":"400","max-width":"35%"},{default:s(()=>[t(P,{class:"pa-2"},{default:s(()=>[t(H,null,{default:s(()=>[x("Settings")]),_:1}),t(y,null,{default:s(()=>[c("div",ae,[t(K,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),label:"Iframe Source",variant:"underlined",outlined:"",rules:[f],onKeydown:q(g,["enter"])},null,8,["modelValue","rules"]),h(t(S,{icon:"mdi-check",class:"mx-1 mb-5",rounded:"lg",flat:"",onClick:g},null,512),[[R,"Set",void 0,{bottom:!0}]])])]),_:1}),t(y,null,{default:s(()=>[t(A,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=l=>u.value=l),label:"Transparency",min:0,max:90},null,8,["modelValue"])]),_:1}),t(E,null,{default:s(()=>[t(S,{color:"primary",onClick:o[2]||(o[2]=l=>r(a).managerVars.configMenuOpen=!1)},{default:s(()=>[x("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(X,{"open-snackbar":d.value,message:v.value,duration:3e3,"close-button":!1,"onUpdate:openSnackbar":o[4]||(o[4]=l=>d.value=l)},null,8,["open-snackbar","message"])],64)}}}),ne=Q(te,[["__scopeId","data-v-494481a1"]]);export{ne as default};
