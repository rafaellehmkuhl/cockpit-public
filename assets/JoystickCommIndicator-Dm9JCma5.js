import{c as C,J,y as M,aC as F,r as W,o as h,aD as _,k as c,D as B,l as D,m as u,H as s,N as i,n as g,aj as I,v as t,I as p,s as f,ay as N,ai as k,Q as v,aE as S,aF as j,aG as O}from"./index-CWL6UDFz.js";const T={class:"flex items-center justify-center mb-6 flex-col gap-4 -mt-6"},E=C({__name:"JoystickCommIndicator",props:{miniWidget:{}},setup(y){const l=J(y).miniWidget,r=M(),a=F(),{showDiagnosticModal:b}=j(),o=W(!1);h(()=>{_.onJoystickConnectionUpdate(m=>o.value=m.size!==0)});const x=c(()=>o.value?a.enableForwarding?"text-slate-50":"text-yellow-500":"text-gray-700"),V=c(()=>o.value?a.enableForwarding?"Joystick connected and enabled":"Joystick connected but disabled":"Joystick disconnected"),w=c(()=>a.enableForwarding?"Joystick commands enabled":"Joystick commands paused");return(m,e)=>{const d=B("FontAwesomeIcon");return u(),D("div",null,[s(N,{text:V.value,location:"bottom"},{activator:i(({props:n})=>[g("div",I(n,{class:["relative cursor-pointer",x.value],onClick:e[0]||(e[0]=U=>t(r).miniWidgetManagerVars(t(l).hash).configMenuOpen=!0)}),[s(d,{icon:"fa-solid fa-gamepad",size:"xl"}),!o.value||!t(a).enableForwarding?(u(),p(d,{key:0,icon:"fa-solid fa-slash",size:"xl",class:"absolute left-0"})):f("",!0)],16)]),_:1},8,["text"]),s(O,{modelValue:t(r).miniWidgetManagerVars(t(l).hash).configMenuOpen,"onUpdate:modelValue":e[3]||(e[3]=n=>t(r).miniWidgetManagerVars(t(l).hash).configMenuOpen=n),title:o.value?"Joystick connected":"Joystick disconnected","max-width":"400px",variant:"text-only"},{content:i(()=>[g("div",T,[s(S,{modelValue:t(a).enableForwarding,"onUpdate:modelValue":e[1]||(e[1]=n=>t(a).enableForwarding=n),"hide-details":"",label:w.value,color:"white",disabled:!o.value},null,8,["modelValue","label","disabled"]),o.value?(u(),p(k,{key:0,variant:"outlined",onClick:t(b)},{default:i(()=>[s(d,{icon:"fa-solid fa-stethoscope",class:"mr-2"}),e[4]||(e[4]=v(" Test Joystick "))]),_:1,__:[4]},8,["onClick"])):f("",!0)])]),actions:i(()=>[s(k,{onClick:e[2]||(e[2]=n=>t(r).miniWidgetManagerVars(t(l).hash).configMenuOpen=!1)},{default:i(()=>e[5]||(e[5]=[v("Close")])),_:1,__:[5]})]),_:1},8,["modelValue","title"])])}}});export{E as default};
