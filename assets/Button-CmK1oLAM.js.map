{"version":3,"file":"Button-CmK1oLAM.js","sources":["../../src/components/custom-widget-elements/Button.vue"],"sourcesContent":["<template>\n  <div\n    class=\"flex items-center\"\n    :style=\"{ justifyContent: miniWidget.options.layout?.align }\"\n    :class=\"\n      widgetStore.elementToShowOnDrawer?.hash === miniWidget.hash && widgetStore.editingMode\n        ? 'bg-[#00000010] '\n        : 'border-0'\n    \"\n    @click=\"widgetStore.editingMode && widgetStore.showElementPropsDrawer(miniWidget.hash)\"\n  >\n    <div :class=\"widgetStore.editingMode ? 'pointer-events-none' : 'pointer-events-auto'\">\n      <v-btn\n        :size=\"miniWidget.options.layout?.buttonSize\"\n        :variant=\"miniWidget.options.layout?.variant\"\n        :style=\"{\n          color: miniWidget.options.layout?.textColor || '#FFFFFF',\n          backgroundColor:\n            miniWidget.options.layout?.variant !== 'text' && miniWidget.options.layout?.variant !== 'outlined'\n              ? miniWidget.options.layout?.backgroundColor || '#FFFFFF33'\n              : 'transparent',\n        }\"\n        @click=\"handleClick\"\n      >\n        {{ miniWidget.options.layout?.label || 'Button' }}\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, toRefs, watch } from 'vue'\n\nimport { executeActionCallback } from '@/libs/joystick/protocols/cockpit-actions'\nimport { useWidgetManagerStore } from '@/stores/widgetManager'\nimport { CustomWidgetElementOptions, CustomWidgetElementType } from '@/types/widgets'\n\nconst widgetStore = useWidgetManagerStore()\n\nconst props = defineProps<{\n  /**\n   * Element instance\n   */\n  miniWidget: CustomWidgetElementOptions[CustomWidgetElementType.Button]\n}>()\n\nconst miniWidget = toRefs(props).miniWidget\n\nconst handleClick = (): void => {\n  if (widgetStore.editingMode) return\n  executeActionCallback(`http-request-action (${miniWidget.value.options.cockpitAction.name})`)\n}\n\nwatch(\n  () => widgetStore.miniWidgetManagerVars(miniWidget.value.hash).configMenuOpen,\n  (newValue) => {\n    if (newValue === true) {\n      widgetStore.showElementPropsDrawer(miniWidget.value.hash)\n      setTimeout(() => {\n        widgetStore.miniWidgetManagerVars(miniWidget.value.hash).configMenuOpen = false\n      }, 200)\n    }\n  },\n  { immediate: true, deep: true }\n)\n\nonMounted(() => {\n  if (!props.miniWidget.options || Object.keys(props.miniWidget.options).length === 0) {\n    miniWidget.value.isCustomElement = true\n    widgetStore.updateElementOptions(props.miniWidget.hash, {\n      layout: {\n        align: miniWidget.value.options.layout?.align || 'center',\n        backgroundColor: miniWidget.value.options.layout?.backgroundColor || '#FFFFFF33',\n        label: miniWidget.value.options.layout?.label || 'Click Here',\n        buttonSize: miniWidget.value.options.layout?.buttonSize || 'default',\n        textColor: miniWidget.value.options.layout?.textColor || '#FFFFFF',\n        variant: miniWidget.value.options.layout?.variant || 'elevated',\n      },\n      cockpitAction: miniWidget.value.options.cockpitAction || '',\n    })\n  }\n})\n</script>\n\n<style scoped></style>\n"],"names":["widgetStore","useWidgetManagerStore","props","__props","miniWidget","toRefs","handleClick","executeActionCallback","watch","newValue","onMounted","_a","_b","_c","_d","_e","_f"],"mappings":"wgBAqCA,MAAMA,EAAcC,EAAsB,EAEpCC,EAAQC,EAORC,EAAaC,EAAOH,CAAK,EAAE,WAE3BI,EAAc,IAAY,CAC1BN,EAAY,aAChBO,EAAsB,wBAAwBH,EAAW,MAAM,QAAQ,cAAc,IAAI,GAAG,CAC9F,EAEA,OAAAI,EACE,IAAMR,EAAY,sBAAsBI,EAAW,MAAM,IAAI,EAAE,eAC9DK,GAAa,CACRA,IAAa,KACHT,EAAA,uBAAuBI,EAAW,MAAM,IAAI,EACxD,WAAW,IAAM,CACfJ,EAAY,sBAAsBI,EAAW,MAAM,IAAI,EAAE,eAAiB,IACzE,GAAG,EAEV,EACA,CAAE,UAAW,GAAM,KAAM,EAAK,CAChC,EAEAM,EAAU,IAAM,kBACV,CAACR,EAAM,WAAW,SAAW,OAAO,KAAKA,EAAM,WAAW,OAAO,EAAE,SAAW,KAChFE,EAAW,MAAM,gBAAkB,GACvBJ,EAAA,qBAAqBE,EAAM,WAAW,KAAM,CACtD,OAAQ,CACN,QAAOS,EAAAP,EAAW,MAAM,QAAQ,SAAzB,YAAAO,EAAiC,QAAS,SACjD,kBAAiBC,EAAAR,EAAW,MAAM,QAAQ,SAAzB,YAAAQ,EAAiC,kBAAmB,YACrE,QAAOC,EAAAT,EAAW,MAAM,QAAQ,SAAzB,YAAAS,EAAiC,QAAS,aACjD,aAAYC,EAAAV,EAAW,MAAM,QAAQ,SAAzB,YAAAU,EAAiC,aAAc,UAC3D,YAAWC,EAAAX,EAAW,MAAM,QAAQ,SAAzB,YAAAW,EAAiC,YAAa,UACzD,UAASC,EAAAZ,EAAW,MAAM,QAAQ,SAAzB,YAAAY,EAAiC,UAAW,UACvD,EACA,cAAeZ,EAAW,MAAM,QAAQ,eAAiB,EAAA,CAC1D,EACH,CACD"}