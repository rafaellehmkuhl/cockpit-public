{"version":3,"file":"URLVideoPlayer-ByvLUHIc.js","sources":["../../src/components/widgets/URLVideoPlayer.vue"],"sourcesContent":["<template>\n  <div class=\"w-full h-full\">\n    <!-- Some browsers only do autoplay if video is muted -->\n    <video\n      ref=\"videoPlayer\"\n      :key=\"widget.options.source\"\n      :autoplay=\"widget.options.autoplay\"\n      :controls=\"widget.options.controls\"\n      :loop=\"widget.options.loop\"\n      :muted=\"widget.options.muted\"\n    >\n      <source :src=\"widget.options.source\" />\n    </video>\n    <v-dialog v-model=\"widgetStore.widgetManagerVars(widget.hash).configMenuOpen\" min-width=\"400\" max-width=\"35%\">\n      <v-card class=\"pa-2\" :style=\"interfaceStore.globalGlassMenuStyles\">\n        <v-card-title class=\"text-center\">Video Source</v-card-title>\n        <v-card-text>\n          <a>Video Source</a>\n          <v-text-field\n            variant=\"filled\"\n            :model-value=\"widget.options.source\"\n            outlined\n            @change=\"widget.options.source = $event.srcElement.value\"\n            @keydown.enter=\"widget.options.source = $event.srcElement.value\"\n          ></v-text-field>\n          <div>\n            <span class=\"text-xs font-semibold leading-3 text-slate-600\">Fit style</span>\n            <Dropdown\n              v-model=\"widget.options.fitStyle\"\n              :options=\"['cover', 'fill', 'contain']\"\n              variant=\"outlined\"\n              class=\"max-w-[144px]\"\n            />\n            <v-checkbox v-model=\"widget.options.autoplay\" label=\"Autoplay\" hide-details />\n            <v-checkbox v-model=\"widget.options.controls\" label=\"Controls\" hide-details />\n            <v-checkbox v-model=\"widget.options.loop\" label=\"Loop\" hide-details />\n            <v-checkbox v-model=\"widget.options.muted\" label=\"Muted\" hide-details />\n          </div>\n        </v-card-text>\n        <v-card-actions class=\"flex justify-end\">\n          <v-btn color=\"white\" @click=\"widgetStore.widgetManagerVars(widget.hash).configMenuOpen = false\">\n            Close\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onBeforeMount, ref, toRefs, watch } from 'vue'\n\nimport Dropdown from '@/components/Dropdown.vue'\nimport { useAppInterfaceStore } from '@/stores/appInterface'\nimport { useWidgetManagerStore } from '@/stores/widgetManager'\nimport type { Widget } from '@/types/widgets'\n\nconst interfaceStore = useAppInterfaceStore()\n\nconst widgetStore = useWidgetManagerStore()\n\nconst props = defineProps<{\n  /**\n   * Widget reference\n   */\n  widget: Widget\n}>()\nconst widget = toRefs(props).widget\n\nconst videoPlayer = ref()\nwatch(widget.value.options, () => {\n  videoPlayer.value.pause()\n  videoPlayer.value.play()\n})\n\nonBeforeMount(() => {\n  if (Object.keys(widget.value.options).length !== 0) {\n    return\n  }\n\n  widget.value.options = {\n    source: '',\n    fitStyle: 'cover',\n    autoplay: true,\n    controls: true,\n    loop: true,\n    muted: true,\n  }\n})\n</script>\n<style scoped>\nvideo {\n  object-fit: v-bind('widget.options.fitStyle');\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],"names":["interfaceStore","useAppInterfaceStore","widgetStore","useWidgetManagerStore","widget","toRefs","__props","videoPlayer","ref","watch","onBeforeMount"],"mappings":"2sBAyDA,MAAMA,EAAiBC,IAEjBC,EAAcC,IAQdC,EAASC,EANDC,CAMa,EAAE,OAEvBC,EAAcC,IACd,OAAAC,EAAAL,EAAO,MAAM,QAAS,IAAM,CAChCG,EAAY,MAAM,QAClBA,EAAY,MAAM,MAAK,CACxB,EAEDG,EAAc,IAAM,CACd,OAAO,KAAKN,EAAO,MAAM,OAAO,EAAE,SAAW,IAIjDA,EAAO,MAAM,QAAU,CACrB,OAAQ,GACR,SAAU,QACV,SAAU,GACV,SAAU,GACV,KAAM,GACN,MAAO,EAAA,EACT,CACD"}