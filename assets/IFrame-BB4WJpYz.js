import{c as L,bq as B,K as O,y as T,J as $,r as d,L as D,br as h,aB as z,k as x,w as W,l as S,m as N,n as p,I as j,G as _,aR as A,q as o,O as k,al as K,H as s,N as r,V as q,P as E,Q as F,R as M,U as G,aM as H,a5 as I,T as P,az as J,bs as Q,W as X,bt as Y,F as Z,bu as ee,_ as ae}from"./index-j_pn1PLB.js";(function(){try{var u=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=new u.Error().stack;c&&(u._sentryDebugIds=u._sentryDebugIds||{},u._sentryDebugIds[c]="6e8f5ec1-f7c7-4f02-b774-1fd460cbc13b",u._sentryDebugIdIdentifier="sentry-dbid-6e8f5ec1-f7c7-4f02-b774-1fd460cbc13b")}catch{}})();const te={class:"w-full h-full"},se=["src"],le={class:"flex items-center justify-between"},ne=L({__name:"IFrame",props:{widget:{}},setup(u){B(e=>({"6f56b4ce":R.value}));const c=O(),i=T(),a=$(u).widget,b=d(!1),v=d(0),l=d(a.value.options.source),f=d(!1),g=d(""),m=e=>ee(e)?!0:"URL is not valid.",w=()=>{const e=m(l.value);if(e!==!0){g.value=`${e} Please enter a valid URL.`,f.value=!0;return}a.value.options.source=l.value,g.value=`IFrame URL sucessfully updated to '${l.value}'.`,f.value=!0};D(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:h},l.value=h)});const{width:V,height:y}=z(),U=x(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*V.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*y.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*V.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*y.value}px;`),i.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),i.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),R=x(()=>(100-v.value)/100);function C(){console.log("Finished loading"),b.value=!0}return W(a,()=>{i.widgetManagerVars(a.value.hash).configMenuOpen===!1&&m(l.value)!==!0&&(l.value=a.value.options.source)},{deep:!0}),(e,t)=>(S(),N(Z,null,[p("div",te,[(S(),j(K,{to:".widgets-view"},[_(p("iframe",{src:o(a).options.source,style:k(U.value),frameborder:"0",onLoad:C},null,44,se),[[A,b.value]])])),s(X,{modelValue:o(i).widgetManagerVars(o(a).hash).configMenuOpen,"onUpdate:modelValue":t[3]||(t[3]=n=>o(i).widgetManagerVars(o(a).hash).configMenuOpen=n),"min-width":"400","max-width":"35%"},{default:r(()=>[s(q,{class:"pa-2",style:k(o(c).globalGlassMenuStyles)},{default:r(()=>[s(E,{class:"text-center"},{default:r(()=>t[5]||(t[5]=[F("Settings")])),_:1}),s(M,null,{default:r(()=>[t[6]||(t[6]=p("p",null,"Iframe Source",-1)),p("div",le,[s(G,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),variant:"filled",outlined:"",rules:[m],onKeydown:H(w,["enter"])},null,8,["modelValue","rules"]),_(s(I,{icon:"mdi-check",class:"mx-1 mb-5 bg-[#FFFFFF22]",rounded:"lg",flat:"",onClick:w},null,512),[[P,"Set",void 0,{bottom:!0}]])])]),_:1}),s(M,null,{default:r(()=>[s(J,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=n=>v.value=n),label:"Transparency",color:"white",min:0,max:90},null,8,["modelValue"])]),_:1}),s(Q,{class:"flex justify-end"},{default:r(()=>[s(I,{color:"white",onClick:t[2]||(t[2]=n=>o(i).widgetManagerVars(o(a).hash).configMenuOpen=!1)},{default:r(()=>t[7]||(t[7]=[F(" Close ")])),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])]),s(Y,{"open-snackbar":f.value,message:g.value,duration:3e3,"close-button":!1,"onUpdate:openSnackbar":t[4]||(t[4]=n=>f.value=n)},null,8,["open-snackbar","message"])],64))}}),ie=ae(ne,[["__scopeId","data-v-2823bce5"]]);export{ie as default};
//# sourceMappingURL=IFrame-BB4WJpYz.js.map
