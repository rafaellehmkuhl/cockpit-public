import{c as C,J,y as h,ab as W,r as F,o as _,ac as B,k as c,D as I,l as N,m as u,H as s,N as r,n as g,a5 as O,v as t,I as f,s as p,a4 as S,a7 as k,Q as v,ad as T,ae as D,af as j}from"./index-B953md0k.js";const z={class:"flex items-center justify-center mb-6 flex-col gap-4 -mt-6"},E=C({__name:"JoystickCommIndicator",props:{miniWidget:{}},setup(y){const i=J(y).miniWidget,l=h(),o=W(),{showDiagnosticModal:b}=j(),a=F(!1);_(()=>{B.onJoystickConnectionUpdate(m=>a.value=m.size!==0)});const V=c(()=>a.value?o.enableForwarding?"text-slate-50":"text-yellow-500":"text-gray-700"),x=c(()=>a.value?o.enableForwarding?"Joystick connected and enabled":"Joystick connected but disabled":"Joystick disconnected"),w=c(()=>o.enableForwarding?"Joystick commands enabled":"Joystick commands paused"),M=()=>{l.miniWidgetManagerVars(i.value.hash).configMenuOpen=!1,b()};return(m,e)=>{const d=I("FontAwesomeIcon");return u(),N("div",null,[s(S,{text:x.value,location:"bottom"},{activator:r(({props:n})=>[g("div",O(n,{class:["relative cursor-pointer",V.value],onClick:e[0]||(e[0]=A=>t(l).miniWidgetManagerVars(t(i).hash).configMenuOpen=!0)}),[s(d,{icon:"fa-solid fa-gamepad",size:"xl"}),!a.value||!t(o).enableForwarding?(u(),f(d,{key:0,icon:"fa-solid fa-slash",size:"xl",class:"absolute left-0"})):p("",!0)],16)]),_:1},8,["text"]),s(D,{modelValue:t(l).miniWidgetManagerVars(t(i).hash).configMenuOpen,"onUpdate:modelValue":e[3]||(e[3]=n=>t(l).miniWidgetManagerVars(t(i).hash).configMenuOpen=n),title:a.value?"Joystick connected":"Joystick disconnected","max-width":"400px",variant:"text-only"},{content:r(()=>[g("div",z,[s(T,{modelValue:t(o).enableForwarding,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).enableForwarding=n),"hide-details":"",label:w.value,color:"white",disabled:!a.value},null,8,["modelValue","label","disabled"]),a.value?(u(),f(k,{key:0,variant:"outlined",onClick:M},{default:r(()=>[s(d,{icon:"fa-solid fa-stethoscope",class:"mr-2"}),e[4]||(e[4]=v(" Test Joystick "))]),_:1,__:[4]})):p("",!0)])]),actions:r(()=>[s(k,{onClick:e[2]||(e[2]=n=>t(l).miniWidgetManagerVars(t(i).hash).configMenuOpen=!1)},{default:r(()=>e[5]||(e[5]=[v("Close")])),_:1,__:[5]})]),_:1},8,["modelValue","title"])])}}});export{E as default};
