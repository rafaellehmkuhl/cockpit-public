import{c as b,y as V,J as w,r as y,w as k,o as L,au as D,h as F,av as M,aw as W,l as m,m as h,H as x,q as t,v,a4 as _,t as C,s as E,ax as I}from"./index-BuIQHwnx.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new o.Error().stack;a&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[a]="a8dadef9-8805-4184-aac7-6067c889aa93",o._sentryDebugIdIdentifier="sentry-dbid-a8dadef9-8805-4184-aac7-6067c889aa93")}catch{}})();const S={key:0,class:"ml-3 mb-[3px] whitespace-nowrap"},T=b({__name:"Switch",props:{miniWidget:{}},setup(o){const a=V(),l=o,e=w(l).miniWidget,i=y(!0);let u;k(()=>a.miniWidgetManagerVars(e.value.hash).configMenuOpen,s=>{s===!0&&(a.showElementPropsDrawer(e.value.hash),setTimeout(()=>{a.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const f=()=>{a.editingMode||e.value.options.dataLakeVariable&&(a.setMiniWidgetLastValue(e.value.hash,i.value),I(e.value.options.dataLakeVariable.name,i.value))};return L(()=>{var s,n,r;!l.miniWidget.options||Object.keys(l.miniWidget.options).length===0?(e.value.isCustomElement=!0,a.updateElementOptions(l.miniWidget.hash,{layout:{align:((s=e.value.options.layout)==null?void 0:s.align)||"center",color:((n=e.value.options.layout)==null?void 0:n.color)||"#FFFFFF",label:((r=e.value.options.layout)==null?void 0:r.label)||""},variableType:"boolean",dataLakeVariable:void 0,toggled:!0}),i.value=!0):e.value.options.dataLakeVariable&&(u=D(e.value.options.dataLakeVariable.name,d=>{i.value=d}),i.value=a.getMiniWidgetLastValue(e.value.hash))}),F(()=>{e.value.options.dataLakeVariable&&(M(e.value.options.dataLakeVariable.id),u&&W(e.value.options.dataLakeVariable.name,u))}),(s,n)=>{var r,d,p,c;return m(),h("div",{class:v(["flex items-center h-[30px] px-4",((r=t(a).elementToShowOnDrawer)==null?void 0:r.hash)===t(e).hash&&t(a).editingMode?"bg-[#00000010] ":"border-0"]),onClick:n[1]||(n[1]=g=>t(a).editingMode&&t(a).showElementPropsDrawer(t(e).hash))},[x(_,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=g=>i.value=g),"hide-details":"",color:((d=t(e).options.layout)==null?void 0:d.color)||"#FFFFFF",class:v([{"pointer-events-none":t(a).editingMode},"min-w-[35px]"]),onChange:f},null,8,["modelValue","color","class"]),((p=t(e).options.layout)==null?void 0:p.label)!==""?(m(),h("p",S,C((c=t(e).options.layout)==null?void 0:c.label),1)):E("",!0)],2)}}});export{T as default};
//# sourceMappingURL=Switch-CGpgPdzL.js.map
