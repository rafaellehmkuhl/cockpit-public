import{c as V,y,k as M,J as k,r as h,w as g,o as S,au as C,h as D,av as O,aw as W,l as _,m as x,n as E,H as I,N as A,Q as N,q as n,v as b,ah as T,O as B,ax as j,_ as z}from"./index-j_pn1PLB.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new s.Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="513a9c66-25a4-4fd0-b4e0-854fafb37101",s._sentryDebugIdIdentifier="sentry-dbid-513a9c66-25a4-4fd0-b4e0-854fafb37101")}catch{}})();const L=V({__name:"Dropdown",props:{miniWidget:{}},setup(s){var p,v;const a=y(),d=s,l=M(()=>{var t;return((t=e.value.options.layout)==null?void 0:t.selectorOptions)||[]}),e=k(d).miniWidget,u=h(l.value.find(t=>{var i;return t.value===((i=d.miniWidget.options.lastSelected)==null?void 0:i.value)})||l.value[0]),c=h(((p=d.miniWidget.options.lastSelected)==null?void 0:p.value)||((v=l.value[0])==null?void 0:v.value));g(()=>a.miniWidgetManagerVars(e.value.hash).configMenuOpen,t=>{t===!0&&(a.showElementPropsDrawer(e.value.hash),setTimeout(()=>{a.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0}),g(u,t=>{a.updateElementOptions(e.value.hash,{...e.value.options,lastSelected:t})});const w=t=>{if(a.editingMode)return;const i=l.value.find(o=>o.value===t);i&&(c.value=t,e.value.options.actionVariable&&j(e.value.options.actionVariable.id,t),a.setMiniWidgetLastValue(e.value.hash,i.value))};return S(()=>{var t;if((!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,a.updateElementOptions(e.value.hash,{layout:{selectorOptions:[],align:"start",width:168},variableType:"string",actionVariable:void 0})),e.value.options.actionVariable){C(e.value.options.actionVariable.name,o=>{u.value=l.value.find(r=>r.value===o)});const i=a.getMiniWidgetLastValue(e.value.hash);u.value=l.value.find(o=>o.value===i)}((t=e.value.options.lastSelected)==null?void 0:t.name)!==""&&(u.value=e.value.options.lastSelected)}),D(()=>{e.value.options.actionVariable&&(O(e.value.options.actionVariable.name),W(e.value.options.actionVariable.id))}),(t,i)=>{var o,r,f;return _(),x("div",{class:b(["flex w-full",((o=n(a).elementToShowOnDrawer)==null?void 0:o.hash)===n(e).hash&&n(a).editingMode?"bg-[#00000010] ":"border-0"]),style:B({width:"100%",justifyContent:(r=n(e).options.layout)==null?void 0:r.align}),onClick:i[1]||(i[1]=m=>n(a).editingMode&&n(a).showElementPropsDrawer(n(e).hash))},[E("div",null,[I(T,{modelValue:c.value,"onUpdate:modelValue":[i[0]||(i[0]=m=>c.value=m),w],items:l.value,"item-title":"name","item-value":"value",theme:"dark",density:"compact",variant:"filled","min-width":((f=n(e).options.layout)==null?void 0:f.width)||168,"hide-details":"",class:b(["text-white",{"pointer-events-none":n(a).editingMode}])},{default:A(()=>i[2]||(i[2]=[N(" > ")])),_:1},8,["modelValue","items","min-width","class"])])],6)}}}),U=z(L,[["__scopeId","data-v-b8d5e9a4"]]);export{U as default};
//# sourceMappingURL=Dropdown-C4A-arqE.js.map
