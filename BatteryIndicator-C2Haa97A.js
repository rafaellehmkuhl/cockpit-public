import{c as f,u as y,r as c,k as o,o as g,I as u,h as w,q as x,T as S,l as r,m as i,n as e,x as W,F as d,t as a}from"./index-BjANYP6K.js";const b={class:"flex items-center w-[5.5rem] h-12 text-white justify-center"},F=e("span",{class:"absolute text-sm text-yellow-400 -bottom-[2px] -right-[7px] mdi mdi-alert-circle"},null,-1),V=[F],C={class:"flex flex-col w-[4rem] select-none text-sm font-semibold leading-4 text-end"},D={class:"w-full"},I={class:"font-mono"},N=e("span",null," V",-1),k={class:"w-full"},B={class:"font-mono"},M=e("span",null," A",-1),T={class:"w-full"},U={class:"font-mono"},A=e("span",null," W",-1),j={class:"w-full"},q={class:"font-mono"},z=e("span",null," Wh",-1),H=f({__name:"BatteryIndicator",setup(E){const t=y(),n=c(!0),l=c(void 0),p=o(()=>{var s;return((s=t==null?void 0:t.powerSupply)==null?void 0:s.voltage)===void 0?NaN:Math.abs(t.powerSupply.voltage)>=100?t.powerSupply.voltage.toFixed(0):t.powerSupply.voltage.toFixed(1)}),_=o(()=>{var s;return((s=t==null?void 0:t.powerSupply)==null?void 0:s.current)===void 0?NaN:Math.abs(t.powerSupply.current)>=100?t.powerSupply.current.toFixed(0):t.powerSupply.current.toFixed(1)}),v=o(()=>t.instantaneousWatts?t.instantaneousWatts.toFixed(1):NaN),h=o(()=>t.totalConsumedWatts.toFixed(1)),m=o(()=>"mdi-battery");return g(()=>{l.value=setInterval(()=>{n.value=!n.value},3e3),u.registerUsage("Instantaneous Watts"),u.registerUsage("Total Consumed Wh")}),w(()=>{l.value&&clearInterval(l.value)}),(s,Y)=>x((r(),i("div",b,[e("span",{class:W(["relative w-[1.5rem] mdi battery-icon",[m.value]])},V,2),e("div",C,[n.value?(r(),i(d,{key:0},[e("div",D,[e("span",I,a(p.value),1),N]),e("div",k,[e("span",B,a(_.value),1),M])],64)):(r(),i(d,{key:1},[e("div",T,[e("span",U,a(v.value),1),A]),e("div",j,[e("span",q,a(h.value),1),z])],64))])])),[[S,"Your vehicle does not provide state-of-charge. Displaying voltage and current instead."]])}});export{H as default};
