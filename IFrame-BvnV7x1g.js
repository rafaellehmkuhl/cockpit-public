import{d as x,bl as y,aD as _,aE as C,q as p,aI as S,a8 as M,c as m,o as f,a as k,k as B,w as T,aC as F,b as I,e as s,aa as O,b4 as $,j as o,a1 as l,ag as z,aU as E,a4 as v,ah as g,bm as W,bn as D,b1 as N,bo as U,a2 as j,al as q,aq as K}from"./index-CwBqaE6F.js";const A={class:"h-full w-full"},H=["src"],L=x({__name:"IFrame",props:{widget:{}},setup(w){y(e=>({"75639a14":h.value}));const r=_(),a=C(w).widget,u=p(!1),i=p(0);S(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:"http://blueos.local"})});const{width:d,height:c}=M(),V=m(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*d.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*c.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*d.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*c.value}px;`),r.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),r.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),h=m(()=>(100-i.value)/100);function b(){console.log("Finished loading"),u.value=!0}return(e,t)=>(f(),k("div",A,[(f(),B($,{to:".widgets-view"},[T(I("iframe",{src:s(a).options.source,style:O(V.value),frameborder:"0",onLoad:b},null,44,H),[[F,u.value]])])),o(q,{modelValue:s(a).managerVars.configMenuOpen,"onUpdate:modelValue":t[4]||(t[4]=n=>s(a).managerVars.configMenuOpen=n),"min-width":"400","max-width":"35%"},{default:l(()=>[o(z,{class:"pa-2"},{default:l(()=>[o(E,null,{default:l(()=>[v("Settings")]),_:1}),o(g,null,{default:l(()=>[o(W,{label:"Iframe Source",variant:"underlined","model-value":s(a).options.source,outlined:"",onChange:t[0]||(t[0]=n=>s(a).options.source=n.srcElement.value),onKeydown:t[1]||(t[1]=D(n=>s(a).options.source=n.srcElement.value,["enter"]))},null,8,["model-value"])]),_:1}),o(g,null,{default:l(()=>[o(N,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),label:"Transparency",min:0,max:90},null,8,["modelValue"])]),_:1}),o(U,null,{default:l(()=>[o(j,{color:"primary",onClick:t[3]||(t[3]=n=>s(a).managerVars.configMenuOpen=!1)},{default:l(()=>[v("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),J=K(L,[["__scopeId","data-v-6be77c0c"]]);export{J as default};
