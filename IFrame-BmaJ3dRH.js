import{d as I,bl as M,aD as B,a7 as D,aE as L,q as u,aI as R,a8 as T,l as f,h as F,o as g,c as O,j as $,w,aC as z,a as V,b as i,aa as W,b4 as j,i as t,a1 as l,ag as N,aU as q,a4 as h,ah as b,bm as E,bn as K,a2 as _,b1 as A,bo as H,al as P,bp as G,aq as J}from"./index-yRkq1YdK.js";const Q={class:"w-full h-full"},X=["src"],Y={class:"flex items-center justify-between"},Z=I({__name:"IFrame",props:{widget:{}},setup(x){M(e=>({"063d9d9a":S.value}));const d=B(),{showDialog:y}=D(),a=L(x).widget,c=u(!1),r=u(0),n=u(a.value.options.source),p=()=>{if(!G(n.value)){y({title:"Invalid URL",message:"Please enter a valid URL",variant:"error"});return}a.value.options.source=n.value};R(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:"http://blueos.local"})});const{width:m,height:v}=T(),C=f(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*m.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*v.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*m.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*v.value}px;`),d.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),d.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),S=f(()=>(100-r.value)/100);function U(){console.log("Finished loading"),c.value=!0}return(e,o)=>{const k=F("tooltip");return g(),O("div",Q,[(g(),$(j,{to:".widgets-view"},[w(V("iframe",{src:i(a).options.source,style:W(C.value),frameborder:"0",onLoad:U},null,44,X),[[z,c.value]])])),t(P,{modelValue:i(a).managerVars.configMenuOpen,"onUpdate:modelValue":o[3]||(o[3]=s=>i(a).managerVars.configMenuOpen=s),"min-width":"400","max-width":"35%"},{default:l(()=>[t(N,{class:"pa-2"},{default:l(()=>[t(q,null,{default:l(()=>[h("Settings")]),_:1}),t(b,null,{default:l(()=>[V("div",Y,[t(E,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),label:"Iframe Source",variant:"underlined",outlined:"",onKeydown:K(p,["enter"])},null,8,["modelValue"]),w(t(_,{icon:"mdi-check",class:"mx-1 mb-5",rounded:"lg",flat:"",onClick:p},null,512),[[k,"Set",void 0,{bottom:!0}]])])]),_:1}),t(b,null,{default:l(()=>[t(A,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=s=>r.value=s),label:"Transparency",min:0,max:90},null,8,["modelValue"])]),_:1}),t(H,null,{default:l(()=>[t(_,{color:"primary",onClick:o[2]||(o[2]=s=>i(a).managerVars.configMenuOpen=!1)},{default:l(()=>[h("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),te=J(Z,[["__scopeId","data-v-d58f6394"]]);export{te as default};
