"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("electron"),a=require("electron-updater"),n=require("path"),i={dist:n.join(__dirname,"..")};let t;function l(){const{width:o,height:r}=e.screen.getPrimaryDisplay().workAreaSize;t=new e.BrowserWindow({icon:n.join(i.dist,"pwa-512x512.png"),webPreferences:{webSecurity:!1,contextIsolation:!1,nodeIntegration:!0,allowRunningInsecureContent:!0},width:o,height:r}),t.webContents.on("did-finish-load",()=>{t==null||t.webContents.send("main-process-message",new Date().toLocaleString())}),t.loadFile(n.join(i.dist,"index.html"))}e.app.on("window-all-closed",()=>{console.log("Closing application."),t=null,e.app.quit()});e.app.on("ready",()=>{e.protocol.registerFileProtocol("file",(o,r)=>{r({path:o.url.substring(7)})})});e.protocol.registerSchemesAsPrivileged([{scheme:"file",privileges:{secure:!0,standard:!0,supportFetchAPI:!0,allowServiceWorkers:!0}}]);function s(){const{autoUpdater:o}=a;return o}e.app.whenReady().then(l);const c=s();c.checkForUpdatesAndNotify();exports.ROOT_PATH=i;exports.getAutoUpdater=s;
