"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("electron"),r=require("path"),i={dist:r.join(__dirname,"..")};let t;function s(){const{width:o,height:n}=e.screen.getPrimaryDisplay().workAreaSize;t=new e.BrowserWindow({icon:r.join(i.dist,"pwa-512x512.png"),webPreferences:{webSecurity:!1,contextIsolation:!1,nodeIntegration:!0,allowRunningInsecureContent:!0},width:o,height:n}),t.webContents.on("did-finish-load",()=>{t==null||t.webContents.send("main-process-message",new Date().toLocaleString())}),t.loadFile(r.join(i.dist,"index.html"))}e.app.on("window-all-closed",()=>{console.log("Closing application."),t=null,e.app.quit()});e.app.on("ready",()=>{e.protocol.registerFileProtocol("file",(o,n)=>{n({path:o.url.substring(7)})})});e.protocol.registerSchemesAsPrivileged([{scheme:"file",privileges:{secure:!0,standard:!0,supportFetchAPI:!0,allowServiceWorkers:!0}}]);e.app.whenReady().then(s);exports.ROOT_PATH=i;
